<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Browse All Signs | Road, Warning, Prohibition, Safety & Industrial</title>
<link rel="stylesheet" href="assets/css/style.css" />
<meta name="description" content="Browse professional road, warning, prohibition, safety and industrial signs. Download print-ready EPS and JPG files for commercial use." />

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Lato:wght@400;700&family=Open+Sans:wght@400;600&family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
<style>
:root {
  --bg: #F9FAFB;
  --card-bg: #f1f1f1;
  --text: #111827;
  --muted: #6b7280;
  --accent: #D64228;
  --accent-hover: #D64228;
  --border: #E5E7EB;
  --overlay-bg: rgba(0,0,0,0.6);
  --max-width: 1200px;
  --transition: 0.3s ease;
}

* { box-sizing: border-box; margin:0; padding:0; }
body { font-family: 'Open Sans', sans-serif; background: var(--bg); }

a { text-decoration: none; color: inherit; }
.wrap { max-width: var(--max-width); margin: 0 auto; padding: 0 20px; }

/* HEADER */
.top-header { background: #fff; border-bottom: 1px solid #eee; }
.header-inner { display: flex; justify-content: space-between; align-items: center; max-width: var(--max-width); margin: 0 auto; padding: 10px 20px; flex-wrap: wrap; }
.logo { font-family: 'Montserrat', sans-serif; font-weight: 600; font-size: 22px; }
.nav a { margin-left: 20px; font-weight: 500; }
.mobile-menu-icon { display: none; cursor: pointer; font-size: 28px; }
.mobile-nav { display: none; flex-direction: column; gap: 12px; overflow: hidden; max-height: 0; transition: max-height 0.4s ease; }

/* HERO */
.browse-hero { text-align: center; padding: 50px 20px; background: radial-gradient(circle at top, #1f2933 0%, #0b0b0b 45%, #000 100%); color:#fff; }
.browse-hero-title { font-family:'Montserrat', sans-serif; font-size:34px; font-weight:600; margin-bottom:12px; }
.browse-hero-subtitle { font-family:'Lato', sans-serif; font-size:18px; font-weight:400; max-width:800px; margin:0 auto; line-height:1.5; }

/* SEARCH */
.search-bar { display:flex; justify-content:center; margin-top:20px; }
.search-bar input { width:100%; max-width:900px; padding:14px 18px; border-radius:4px; border:1px solid #D1D5DB; font-size:16px; outline:none; transition:border-color 0.2s; }
.search-bar input:focus { border-color:#2563EB; box-shadow:0 0 0 3px rgba(37,99,235,0.12); }

/* FILTER */
.filter-buttons { display:flex; flex-wrap:wrap; justify-content:center; gap:12px; margin-top:28px; }
.filter-btn { padding:10px 22px; background:#F9FAFB; border:1px solid #D1D5DB; border-radius:4px; cursor:pointer; font-size:14px; font-weight:500; transition:all 0.2s; }
.filter-btn:hover { background:#111827; color:#fff; border-color:#111827; }
.filter-btn.active { background:#2563EB; color:#fff; border-color:#2563EB; }

/* GALLERY */
.gallery-wrapper { max-width:1440px; margin:0 auto; padding:32px 24px; }
.signs-gallery { display:grid; grid-template-columns:repeat(auto-fill, minmax(220px,1fr)); gap:20px; }
.sign-card { position:relative; background:#fff; border-radius:4px; overflow:hidden; border:1px solid var(--border); cursor:pointer; transition:0.2s; }
.sign-card:hover { box-shadow:0 6px 16px rgba(0,0,0,0.08); }
.sign-card img { width:100%; aspect-ratio:4/3; object-fit:contain; display:block; background:#F9FAFB; }
.sign-card .overlay { position:absolute; inset:0; background:var(--overlay-bg); display:flex; justify-content:center; align-items:center; opacity:0; transition:0.2s; color:#fff; text-align:center; padding:10px; }
.sign-card:hover .overlay { opacity:1; }
.sign-card .overlay small { display:block; margin-top:5px; font-size:12px; line-height:1.2; }

/* RESPONSIVE */
@media(max-width:1024px) { .gallery-wrapper{padding:24px 16px;} }
@media(max-width:768px) {
  .nav{display:none;} 
  .mobile-menu-icon{display:block;}
  .mobile-nav.open{display:flex; max-height:500px;}
  .browse-hero{padding:40px 16px 30px;}
  .browse-hero-title{font-size:28px;}
  .browse-hero-subtitle{font-size:16px; max-width:95%;}
  .search-bar{flex-direction:column; align-items:stretch;}
  .filter-buttons{flex-wrap:nowrap; overflow-x:auto; padding:8px 0;}
  .filter-btn{flex:0 0 auto; margin-right:8px;}
  .signs-gallery{grid-template-columns:repeat(auto-fill, minmax(180px,1fr)); gap:16px;}
  .sign-card img{aspect-ratio:1;}
  .sign-card .overlay span{font-size:12px;}
}
@media(max-width:480px){
  .browse-hero-title{font-size:24px;}
  .browse-hero-subtitle{font-size:14px;}
  .filter-btn{font-size:12px; padding:8px 14px;}
  .signs-gallery{grid-template-columns:1fr; gap:12px;}
}
#noResults { text-align:center; margin-top:30px; font-size:18px; color:var(--muted); display:none; }
</style>
</head>
<body>

<!-- HEADER -->
<header class="top-header">
  <div class="container header-inner">
    <a href="/" class="logo"><span class="logo-main">Signora</span><span class="logo-accent">X</span></a>
    <nav class="nav">
      <a href="index.html">Home</a>
      <a href="browse-signs.html">Browse Signs</a>
      <a href="about/">About</a>
      <a href="contact/">Contact</a>
      <a href="blog/">Blog</a>
    </nav>
    <div class="header-actions">
      <a href="#" class="plans">Plans</a>
      <a href="#" class="signup">Sign Up</a>
      <a href="#" class="login">Log In</a>
    </div>
    <div class="mobile-menu-icon" onclick="toggleMenu()">â˜°</div>
  </div>
  <div class="mobile-nav" id="mobileNav">
    <a href="index.html">Home</a>
    <a href="browse-signs.html">Browse Signs</a>
    <a href="about/">About</a>
    <a href="contact/">Contact</a>
    <a href="blog/">Blog</a>
    <a href="account.html">Log In</a>
  </div>
</header>

<script>
function toggleMenu(){ document.getElementById("mobileNav").classList.toggle("open"); }
</script>

<!-- HERO -->
<section class="browse-hero">
  <h1 class="browse-hero-title">Browse All Professional Signs</h1>
  <p class="browse-hero-subtitle">Road, warning, prohibition, safety and industrial signs. Print-ready EPS & JPG files for professional use.</p>
  <div class="search-bar">
    <input type="text" id="searchInput" placeholder="Search by keyword or category...">
  </div>
  <div class="filter-buttons">
    <button class="filter-btn active" data-filter="all">All</button>
    <button class="filter-btn" data-filter="road">Road Signs</button>
    <button class="filter-btn" data-filter="warning">Warning Signs</button>
    <button class="filter-btn" data-filter="prohibition">Prohibition Signs</button>
    <button class="filter-btn" data-filter="information">Information Signs</button>
    <button class="filter-btn" data-filter="safety">Safety Signs</button>
    <button class="filter-btn" data-filter="industrial">Industrial Signs</button>
  </div>
  <h2 id="searchTitle"></h2>
</section>

<!-- GALLERY -->
<main class="gallery-wrapper">
  <div class="signs-gallery" id="signsGallery">
    <div class="sign-card" data-category="road" data-name="Road Narrow Sign Set Left, Right and Both Side Road Warning Signs">
      <a href="/products/road-signs/road-narrows-sign-set-download.html">
        <img src="assets/images/road narrows sign warning traffic symbol.jpg" alt="Road Narrows Sign" loading="lazy">
        <div class="overlay">View Details</div>
      </a>
    </div>
    <!-- Add your remaining .sign-card items here, no duplicate data-category -->
  </div>
  <p id="noResults">No signs found matching your search.</p>
</main>

<!-- FOOTER -->
<div id="footer"></div>
<script>
fetch("footer.html")
  .then(res => res.text())
  .then(data => document.getElementById("footer").innerHTML = data);
</script>

<script>
  // === ELEMENTS ===
const galleryItems = document.querySelectorAll('.sign-card');
const filterButtons = document.querySelectorAll('.filter-btn');
const searchInput = document.getElementById('searchInput');

// === URL PARAMETERS (from homepage) ===
const params = new URLSearchParams(window.location.search);
const searchParam = params.get('search') ? params.get('search').toLowerCase() : '';
const categoryParam = params.get('category') ? params.get('category').toLowerCase() : 'all';

// === INITIALIZE SEARCH FIELD ===
if (searchParam) searchInput.value = searchParam;

// === HELPER FUNCTION: singularize words for search ===
function singularize(word) {
  if (word.endsWith('s')) return word.slice(0, -1);
  return word;
}

/* ===== SEARCH TITLE FUNCTION ===== */
function updateSearchTitle(category, query) {
  const title = document.getElementById("searchTitle");
  const catText = category !== 'all' ? category + " signs" : "";
  const qText = query ? query : "";

  if (!catText && !qText) {
    title.textContent = "";
    return;
  }

  if (catText && qText) {
    title.textContent = `Showing results for "${qText}" in ${catText}`;
    return;
  }

  if (catText && !qText) {
    title.textContent = `Category: ${catText}`;
    return;
  }

  if (!catText && qText) {
    title.textContent = `Search results for "${qText}"`;
    return;
  }
}

// === SMART FILTER FUNCTION ===
function filterGallery(category, query) {
  const searchWords = query
    .trim()
    .toLowerCase()
    .split(/\s+/)
    .map(word => singularize(word))
    .filter(Boolean);

  let visibleCount = 0;

  galleryItems.forEach(item => {
    const name = singularize(item.dataset.name.toLowerCase());
    const itemCategory = singularize(item.dataset.category.toLowerCase());

    // Category match
    const categoryMatch = category === 'all' || itemCategory === category || itemCategory.includes(category);

    // Search match
    const searchMatch = searchWords.length === 0 || searchWords.every(word => name.includes(word) || itemCategory.includes(word));

    if (categoryMatch && searchMatch) {
      item.style.display = 'block';
      visibleCount++;
    } else {
      item.style.display = 'none';
    }
  });

  // === No Results Message ===
  let noResults = document.getElementById('noResults');
  if (!noResults) {
    noResults = document.createElement('p');
    noResults.id = 'noResults';
    noResults.textContent = 'No signs found matching your search.';
    noResults.style.color = '#6b7280';
    noResults.style.textAlign = 'center';
    noResults.style.marginTop = '30px';
    noResults.style.fontSize = '18px';
    document.querySelector('.signs-gallery').after(noResults);
  }
  noResults.style.display = visibleCount === 0 ? 'block' : 'none';

  // update the search title whenever filtering finishes
  updateSearchTitle(category, query.trim());
}

// === HIGHLIGHT ACTIVE BUTTON ===
function setActiveButton(category) {
  filterButtons.forEach(btn => {
    if (btn.dataset.filter.trim().toLowerCase() === category) {
      btn.classList.add('active');
    } else {
      btn.classList.remove('active');
    }
  });
}

// === INITIAL LOAD ===
setActiveButton(categoryParam);
filterGallery(categoryParam, searchParam);

// === EVENT LISTENERS ===

// Filter buttons
filterButtons.forEach(btn => {
  btn.addEventListener('click', () => {
    const category = btn.dataset.filter.toLowerCase().trim();
    setActiveButton(category);
    filterGallery(category, searchInput.value);
  });
});

// Search input
searchInput.addEventListener('input', () => {
  const activeCategory = document.querySelector('.filter-btn.active').dataset.filter.toLowerCase().trim();
  filterGallery(activeCategory, searchInput.value);
});

// ENTER KEY TRIGGER SEARCH
searchInput.addEventListener('keypress', e => {
  if (e.key === 'Enter') {
    const activeCategory = document.querySelector('.filter-btn.active').dataset.filter.toLowerCase().trim();
    filterGallery(activeCategory, searchInput.value);
  }
});
</script>
  <script>
function toggleMenu() {
  document.getElementById("mobileNav").classList.toggle("open");
}

// === TYPO-TOLERANT SEARCH + HIGHLIGHT ===
function filterGallery(category, query) {
  const searchWords = query
    .trim()
    .toLowerCase()
    .split(/\s+/)
    .map(word => singularize(word))
    .filter(Boolean);

  function fuzzyMatch(word, target) {
    target = target.toLowerCase();
    if (target.includes(word)) return true;
    if (target.startsWith(word.slice(0, 2))) return true;
    let diff = 0;
    for (let i = 0; i < Math.max(word.length, target.length); i++) {
      if (word[i] !== target[i]) diff++;
      if (diff > 1) return false;
    }
    return diff <= 1;
  }

  let visibleCount = 0;

  galleryItems.forEach(item => {
    const name = singularize(item.dataset.name.toLowerCase());
    const itemCategory = singularize(item.dataset.category.toLowerCase());

    // Category match
    const categoryMatch = category === 'all' || itemCategory === category || itemCategory.includes(category);

    // Multi-word fuzzy search
    const searchMatch = searchWords.length === 0 || searchWords.every(sw => {
      const itemWords = (name + " " + itemCategory).split(/\s+/);
      return itemWords.some(iw => fuzzyMatch(sw, iw));
    });

    // Show / Hide item
    if (categoryMatch && searchMatch) {
      item.style.display = 'block';
      visibleCount++;

      // === HIGHLIGHT MATCHING WORDS ===
      let highlightedName = item.dataset.name;
      searchWords.forEach(sw => {
        const regex = new RegExp(sw, 'ig'); // case-insensitive
        highlightedName = highlightedName.replace(regex, match => `<span style="background-color: #ffeb3b;">${match}</span>`);
      });

      // Add highlighted title overlay (optional)
      const overlay = item.querySelector('.overlay');
      overlay.innerHTML = `View Details<br><small style="color: #fff;">${highlightedName}</small>`;
    } else {
      item.style.display = 'none';
    }
  });

  // === No Results Message ===
  let noResults = document.getElementById('noResults');
  if (!noResults) {
    noResults = document.createElement('p');
    noResults.id = 'noResults';
    noResults.textContent = 'No signs found matching your search.';
    noResults.style.color = '#6b7280';
    noResults.style.textAlign = 'center';
    noResults.style.marginTop = '30px';
    noResults.style.fontSize = '18px';
    document.querySelector('.signs-gallery').after(noResults);
  }
  noResults.style.display = visibleCount === 0 ? 'block' : 'none';

  // Update search title
  updateSearchTitle(category, query.trim());
}
</script>
</body>
</html>
